<!DOCTYPE html>

<script src="/javascripts/jquery-1.11.2.min.js" type="text/javascript"></script>

<html>
<head>
    <title>CO2 Visualization </title>
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>

<body>
<h1 align="center">CO2 Visualization</h1>
<p align="center">simple web-based CO2 visualization where random CO2 values (between 350 and 5000 ppm) are getting
    pulled every 10 seconds </p>
<!--Fetching data from the time function -->
<div class="container">
    <div id="show" align="center"></div>
    <div class="progress">
        <div id="getResponse">
        </div>
    </div>
</div>


</body>
<footer style="margin-top: 20%">
    <div align="center">
        <h5>Created By Jyotiben Sapariya</h5>
    </div>
</footer>
</html>

<script type="text/javascript">
    time();
    setInterval(time, 10000);
    function time() {
        // console.log("working");
        var x = 350;
        var y = 5000;
        var a = Math.floor(Math.random() * ((y - x) + 1) + x);
        var result = "";
        if (a <= 1000) {
            result = "green";
        }
        else if (a > 1000 && a <= 2000) {
            result = "yellow";
        }
       else if (a > 2000) {
            result = "red";
        }
        var per = Math.floor((a - 350) / (5000 - 350) * 100);
        $('#show').html("<h2>" + a + " pm</h2>")
        $('#getResponse').html("  <div class=\"progress-bar progress-bar-striped active\" role=\"progressbar\" aria-valuenow=\"40\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:" + per + "%;background-color: " + result + "\">\n" +
            "         <b> " + per + "</b> %\n" +
            "        </div>");
    }
</script>
